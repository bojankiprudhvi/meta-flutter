From 15d7c6d12a92a1eb360b41607d4881d949214733 Mon Sep 17 00:00:00 2001
From: Joel Winarske <joel.winarske@gmail.com>
Date: Tue, 8 Jul 2025 15:18:46 -0700
Subject: [PATCH 1/4] public headers

Upstream-Status: Inappropriate
---
 public/cpp/fpdf_deleters.h | 18 +++++++++---------
 public/cpp/fpdf_scopers.h  |  2 +-
 public/fpdfview.h          |  6 ------
 3 files changed, 10 insertions(+), 16 deletions(-)

diff --git a/public/cpp/fpdf_deleters.h b/public/cpp/fpdf_deleters.h
index d58f8d593..55b85d9ed 100644
--- a/public/cpp/fpdf_deleters.h
+++ b/public/cpp/fpdf_deleters.h
@@ -5,15 +5,15 @@
 #ifndef PUBLIC_CPP_FPDF_DELETERS_H_
 #define PUBLIC_CPP_FPDF_DELETERS_H_
 
-#include "public/fpdf_annot.h"
-#include "public/fpdf_dataavail.h"
-#include "public/fpdf_edit.h"
-#include "public/fpdf_formfill.h"
-#include "public/fpdf_javascript.h"
-#include "public/fpdf_structtree.h"
-#include "public/fpdf_text.h"
-#include "public/fpdf_transformpage.h"
-#include "public/fpdfview.h"
+#include "../fpdf_annot.h"
+#include "../fpdf_dataavail.h"
+#include "../fpdf_edit.h"
+#include "../fpdf_formfill.h"
+#include "../fpdf_javascript.h"
+#include "../fpdf_structtree.h"
+#include "../fpdf_text.h"
+#include "../fpdf_transformpage.h"
+#include "../fpdfview.h"
 
 // Custom deleters for using FPDF_* types with std::unique_ptr<>.
 
diff --git a/public/cpp/fpdf_scopers.h b/public/cpp/fpdf_scopers.h
index fd9ce6997..34cf9c46a 100644
--- a/public/cpp/fpdf_scopers.h
+++ b/public/cpp/fpdf_scopers.h
@@ -8,7 +8,7 @@
 #include <memory>
 #include <type_traits>
 
-#include "public/cpp/fpdf_deleters.h"
+#include "fpdf_deleters.h"
 
 // Versions of FPDF types that clean up the object at scope exit.
 
diff --git a/public/fpdfview.h b/public/fpdfview.h
index d96556b47..fb9b6998d 100644
--- a/public/fpdfview.h
+++ b/public/fpdfview.h
@@ -203,9 +203,6 @@ typedef int FPDF_ANNOT_APPEARANCEMODE;
 // Dictionary value types.
 typedef int FPDF_OBJECT_TYPE;
 
-#if defined(COMPONENT_BUILD)
-// FPDF_EXPORT should be consistent with |export| in the pdfium_fuzzer
-// template in testing/fuzzers/BUILD.gn.
 #if defined(WIN32)
 #if defined(FPDF_IMPLEMENTATION)
 #define FPDF_EXPORT __declspec(dllexport)
@@ -219,9 +216,6 @@ typedef int FPDF_OBJECT_TYPE;
 #define FPDF_EXPORT
 #endif  // defined(FPDF_IMPLEMENTATION)
 #endif  // defined(WIN32)
-#else
-#define FPDF_EXPORT
-#endif  // defined(COMPONENT_BUILD)
 
 #if defined(WIN32) && defined(FPDFSDK_EXPORTS)
 #define FPDF_CALLCONV __stdcall
-- 
2.50.0

